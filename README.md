# Formation Control

## Preliminary

* åŒå‘å›¾çš„å¤æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ $L$ï¼š
  $$
  L(i, j) = 
  \begin{cases} 
  -w_{ij} & \text{if } i \neq j \text{ and } j \in \mathcal{N}_i \\
  0 & \text{if } i \neq j \text{ and } j \notin \mathcal{N}_i \\
  \sum_{k \in \mathcal{N}_i} w_{ik} & \text{if } i = j
  \end{cases}
  $$
  å®é™…ä»£ç ä¸­çš„æƒé‡çŸ©é˜µ $W=-L$

* èŠ‚ç‚¹åæ ‡å®šä¹‰ $p$ : $\vec{p} = (ğ‘_1, . . . , ğ‘_ğ‘›) \in C^n$ï¼Œæ˜¯å¤æ•°è¡¨ç¤º



## å¤æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µæ„å»º

* æ¯ä¸€ä¸ªèŠ‚ç‚¹ ğ‘– çš„å¤çº¦æŸæ–¹ç¨‹:
  $$
  \sum_{j \in \mathcal{N}_i} w_{ij}(p_j - p_i) = 0
  $$
  $\Rightarrow$
  $$
  L\vec{p} = 0
  $$

* **æ¡†æ¶ç›¸ä¼¼**ï¼šåœ¨äºŒç»´ç©ºé—´å†…ï¼Œå¯¹äºåŒä¸€ä¸ª $L$ï¼Œå¦‚æœ
  $$
  ker(L) = \{c_11_n+c_2\vec{p}:c_1,c_2\in C\}
  $$
  åˆ™æ»¡è¶³å¤çº¦æŸæ–¹ç¨‹ $L\vec{p}=0$ çš„æ‰€æœ‰ $G(\vec{p})$ æ˜¯ç›¸ä¼¼çš„

  ï¼ˆè¯´äººè¯ï¼ŒäºŒç»´å¹³é¢ä¸Šï¼Œå¸Œæœ›ç¼–é˜Ÿå¹³ç§»ã€æ—‹è½¬ã€æ”¾ç¼©åï¼Œä»æ»¡è¶³ $L\vec{p}=0$ï¼‰

  ï¼ˆæ˜¾ç„¶ï¼Œä¸Šé¢æ„å»ºå‡ºæ¥çš„ $L$ æœ‰ä¸¤ä¸ªç‰¹å¾å‘é‡ $1_n$å’Œ$\vec{p}$ï¼‰

* **æ„å»º**ï¼š

  1. èŠ‚ç‚¹ ğ‘– æœ‰æ­£å¥½ä¸¤ä¸ªé‚»å±…èŠ‚ç‚¹
     $$
     [ğ‘¤_{ğ‘–ğ‘—},\ ğ‘¤_{ğ‘–ğ‘˜}] = ğ›¼_ğ‘–[ğ‘_ğ‘˜ âˆ’ ğ‘_ğ‘–,\ ğ‘_ğ‘– âˆ’ ğ‘_ğ‘—] 
     $$

  2. èŠ‚ç‚¹ i æœ‰çš„é‚»å±…èŠ‚ç‚¹å¤šäºä¸¤ä¸ªï¼Œå‡è®¾æœ‰ m ä¸ªé‚»å±…èŠ‚ç‚¹

     * ä»ä¸­é€‰å–ä¸¤ä¸ªèŠ‚ç‚¹ $i_j,\ i_k$ï¼Œæ„å»ºä¸€ä¸ª m ç»´å‘é‡ $\zeta_h$
       $$
       ğœ_â„ = [0, 0, . . . , ğ‘_{ğ‘–_ğ‘˜} âˆ’ ğ‘_ğ‘–
       , . . . , ğ‘_ğ‘– âˆ’ ğ‘_{ğ‘–_ğ‘—}
       , 0, 0, . . . , 0] 
       $$

     * é‡å¤æ„å»º $C_m^2$ ä¸ª$\zeta_h$

     * æ±‚å’Œï¼š
       $$
       [w_{ii_1}, w_{ii_2}, \ldots, w_{ii_m}] = \sum_{h=1}^{C_m^2} \alpha_i^h \zeta_h
       $$



## ç¼–é˜Ÿæ§åˆ¶

* **Followers ä½ç½®å¯ä»¥ç”± Leaders ç¡®å®š**
  $$
  L = \begin{bmatrix} L_{ff} & L_{fl} \\ L_{lf} & L_{ll} \end{bmatrix} \quad r = \begin{bmatrix} r_F \\ r_L \end{bmatrix}
  $$
  $\Rightarrow$
  $$
  L_{ff}r_F + L_{fl}r_L = 0 \\
  r_F = -L_{ff}^{-1}L_{fl}r_L
  $$
  å‡å®šåˆå§‹ $G(\vec{p})$ æ„å»ºå‡ºçš„ $L$ ä¸­ $L_{ff}$ æ˜¯å¯é€†çš„ï¼ˆå³å¯¹åˆå§‹ $G(\vec{p})$ æœ‰ä¸€å®šçš„è¦æ±‚ï¼‰

* **Leaders** è¿åŠ¨æ§åˆ¶

  å‡è®¾ç¼–é˜Ÿä¸­åªæœ‰ Leaders çŸ¥é“è‡ªå·±çš„å½“å‰ä½ç½® $p_i$ ä¸ç›®æ ‡ä½ç½® $p_i^*$ï¼Œå³åªæœ‰ Leaders åšè·¯å¾„çš„è§„åˆ’

  è¿™é‡Œç›´æ¥ä½¿ç”¨ä¸€é˜¶æ§åˆ¶ï¼š
  $$
  v_i = -\tanh(x_i - x_i^*) - i \tanh(y_i - y_i^*) + \dot{p}_i^*
  $$

  $$
  \begin{cases}
  \dot{x}_i = -\tanh(x_i - x_i^*) + \dot{x}_i^* \\
  \dot{y}_i = -\tanh(y_i - y_i^*) + \dot{y}_i^*
  \end{cases}
  $$

  ä»£ç ä¸­ï¼Œå°†ç›®æ ‡ä½ç½®çš„ç›®æ ‡é€Ÿåº¦ $\dot{p}_i^*$ è®¾ç½®ä¸º 0

* **Followers** è¿åŠ¨æ§åˆ¶

  ä»…éœ€è¦ä¸é‚»å±…èŠ‚ç‚¹çš„ç›¸å¯¹ä½ç½®ä¿¡æ¯ï¼Œä»¥åŠé€Ÿåº¦ä¿¡æ¯å°±å¯ä»¥è®¾è®¡æ§åˆ¶å¾‹ä½¿å¾—æ•´ä¸ªç¼–é˜Ÿç§»åŠ¨è¿‡ç¨‹æ˜¯ç¨³å®š
  $$
  \dot{p}_i = -\frac{1}{\gamma_i} \sum_{j \in \mathcal{N}_i} w_{ij} [\alpha_1 (p_i - p_j) - \dot{p}_j], i \in \mathcal{V}_f
  $$